# Alertmanager Helm Values
# Chart: https://github.com/prometheus-community/helm-charts/tree/main/charts/alertmanager

fullnameOverride: alertmanager

persistence:
  enabled: true
  size: 1Gi
  storageClass: longhorn  # Migrated from local-path to Longhorn (replica=3)

resources:
  requests:
    cpu: 10m
    memory: 32Mi

# Prometheus ServiceMonitor 설정
serviceMonitor:
  enabled: true
  additionalLabels:
    release: prometheus
  namespace: prometheus

# Disable default config - use secret instead
config:
  enabled: false

# Mount config from ExternalSecret
extraSecretMounts:
  - name: alertmanager-config
    mountPath: /etc/alertmanager
    secretName: alertmanager-config
    readOnly: true
